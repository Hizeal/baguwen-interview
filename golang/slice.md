# SLICE

## slice概念

- 每个切片都指向一个底层数组
- 每个切片都保存了当前切片的长度、底层数组可用容量
- 使用len()计算切片长度时间复杂度为O(1)，不需要遍历切片
- 使用cap()计算切片容量时间复杂度为O(1)，不需要遍历切片
- 通过函数传递切片时，不会拷贝整个切片，因为切片本身只是个结构体而已
- 使用append()向切片追加元素时有可能触发扩容，扩容后将会生成新的切片

## slice扩容

扩容遵顼以下原则：

1. 如果原Slice容量**小于1024**，则新Slice容量将**扩大为原来的2倍**；
2. 如果原Slice容量**大于等于1024**，则新Slice容量将扩大为**原来的1.25倍**；

append向slice添加一个元素的实现步骤如下

1. 假如Slice容量够用，则将新元素追加进去，Slice.len++，返回原Slice
2. 原Slice容量不够，则将Slice先扩容，扩容后得到新Slice
3. 将新元素追加进新Slice，Slice.len++，返回新的Slice

## slice copy

使用copy()内置函数拷贝两个切片时，会将源切片的数据逐个拷贝到目的切片指向的数组中，拷贝数量取两个切片长度的**最小值**

## Go的string


Go 中，string 不包含内存空间，它只有一个内存指针，所以 string 非常轻量，很方便进行传递且不用担心内存拷贝。string 通常指向字符串字面量，字面量存储的位置是只读段，并不是堆或栈上，所以 string 不能被修改
