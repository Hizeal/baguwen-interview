# GoChannel

## 面试题

### CSP模型
CSP 模型是“以通信的方式来共享内存”，不同于传统的多线程通过共享内存来通信。用于描述两个独立的并发实体通过共享的通讯 channel (管道)进行通信的并发模型

### 从已关闭的channel发送/读取数据，结果如何
- 给一个已经关闭的 channel 发送数据，引起 panic
- 从一个已经关闭的 channel 接收数据，如果缓冲区中为空，则返回一个零值

### 无缓冲的 channel 和 有缓冲的 channel 的区别？
- 对于无缓冲的 channel，发送方将阻塞该信道，直到接收方从该信道接收到数据为止，而接收方也将阻塞该信道，直到发送方将数据发送到该信道中为止。

- 对于有缓存的 channel，发送方在没有空插槽（缓冲区使用完）的情况下阻塞，而接收方在信道为空的情况下阻塞。

### 内部如何实现

一个是待发送数据的 goroutine 队列，另一个是待读取数据的 goroutine 队列

### 协程泄漏
协程泄露是指协程创建后，长时间得不到释放，并且还在不断地创建新的协程，最终导致内存耗尽，程序崩溃。常见的导致协程泄露的场景有以下几种：
- 缺少接收器，导致发送阻塞
- 缺少发送器，导致接收阻塞
- 死锁(dead lock)
- 无限循环(infinite loops)
  - 为了避免网络等问题，采用了无限重试的方式，发送 HTTP 请求，直到获取到数据。那如果 HTTP 服务宕机，永远不可达，导致协程不能退出，发生泄漏